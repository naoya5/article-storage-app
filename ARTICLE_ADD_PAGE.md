# 記事追加ページ機能

## 概要

記事追加ページとリアルタイムプレビュー機能を実装しました。ユーザーがTwitter、Zenn、QiitaのURLを入力すると、記事の詳細情報をリアルタイムでプレビュー表示し、確認後に記事をストックに追加できます。

## 実装した機能

### 1. 記事追加ページ (`/add-article`)

- **場所**: `app/add-article/page.tsx`
- **特徴**:
  - サーバーコンポーネントとして実装
  - 認証チェック機能
  - 既存の配色パターンとダークモード対応
  - レスポンシブデザイン

### 2. リアルタイムプレビュー機能

- **コンポーネント**: `app/add-article/components/add-article-with-preview.tsx`
- **機能**:
  - URLを入力すると500msの遅延でプレビューを取得
  - サポートプラットフォームの自動判別
  - エラーハンドリング
  - ローディング状態の表示

### 3. 記事プレビューコンポーネント

- **コンポーネント**: `app/add-article/components/article-preview.tsx`
- **表示項目**:
  - 記事タイトル
  - 記事説明
  - 著者情報
  - プラットフォーム（アイコン付き）
  - 公開日
  - サムネイル画像（があれば）
  - 元記事へのリンク

### 4. プレビュー用APIエンドポイント

- **エンドポイント**: `/api/articles/preview`
- **機能**:
  - 記事をデータベースに保存せずメタデータのみ取得
  - 既存のメタデータ抽出機能を再利用
  - エラーハンドリング

## デザインの特徴

### カラーパレット
- プライマリカラー: `#F7567C` (ピンク)
- セカンダリカラー: `#FFFAE3` (淡い黄色)
- 既存のアプリケーションと統一された配色

### ダークモード対応
- ライトモード/ダークモードの自動切り替え
- すべてのコンポーネントでダークモード対応

### UIコンポーネント
- ガラスモーフィズム効果を採用
- ホバーエフェクトとアニメーション
- アクセシビリティ対応

## ナビゲーション改善

### 1. メインページへのリンク追加
- クイックアクセスカードに記事追加を追加
- フッターメニューに記事追加リンクを追加

### 2. 記事一覧ページへのリンク追加
- ページ右上に記事追加ボタンを配置

## 技術仕様

### アーキテクチャ
- **サーバーコンポーネント**: メインページとレイアウト
- **クライアントコンポーネント**: フォームとプレビュー機能
- **API**: プレビュー専用エンドポイント

### 対応プラットフォーム
- Twitter (X)
- Zenn
- Qiita

### パフォーマンス最適化
- デバウンス機能（500ms）でAPI呼び出しを制限
- 不要なリクエストを削減
- エラー状態の適切な処理

## ファイル構成

```
app/
├── add-article/
│   ├── page.tsx                          # メインページ（サーバーコンポーネント）
│   └── components/
│       ├── add-article-with-preview.tsx  # フォーム＋プレビューコンポーネント
│       └── article-preview.tsx           # プレビュー表示コンポーネント
├── api/
│   └── articles/
│       └── preview/
│           └── route.ts                  # プレビュー用APIエンドポイント
├── articles/page.tsx                     # 記事一覧ページ（リンク追加）
└── page.tsx                             # メインページ（リンク追加）
```

## 使用技術

- **フレームワーク**: Next.js 15 (App Router)
- **スタイリング**: Tailwind CSS
- **認証**: NextAuth.js
- **UI**: カスタムコンポーネント + shadcn/ui
- **言語**: TypeScript

## 今後の改善点

1. **バッチ追加機能**: 複数URLの一括追加
2. **タグ・ジャンル自動分類**: AI による自動カテゴリ分類
3. **プレビューキャッシュ**: 同じURLのプレビューをキャッシュ
4. **ドラッグ&ドロップ**: URLファイルのドラッグ&ドロップ対応
5. **ブックマークレット**: ワンクリック追加機能

## 動作確認方法

1. `/add-article` にアクセス
2. サポート対象のURLを入力
3. リアルタイムプレビューが表示されることを確認
4. 「記事を追加」ボタンで記事がストックに追加されることを確認